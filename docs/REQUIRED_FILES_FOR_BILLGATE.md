# λΉκ²μ΄νΈ μ—°λ™μ„ μ„ν•΄ ν•„μ”ν• νμΌ λ° μ •λ³΄

## π¨ μ¦‰μ‹ ν•„μ”ν• νμΌλ“¤

### 1. λΉκ²μ΄νΈ μƒν” μ½”λ“ (μ°μ„ μμ„ 1)
```
ν•„μ”ν• νμΌ: BillgatePay-PHP.zip (κ°€μ¥ μ°μ„ )
λ€μ• νμΌ: BillgatePay-JSP.zip, BillgatePay-ASP.zip

μ΄μ : 
- PHPκ°€ JavaScriptμ™€ λ¬Έλ²•μ΄ κ°€μ¥ μ μ‚¬ν•΄ ν¬ν…ν•κΈ° μ‰¬μ›€
- CHECK_SUM μƒμ„± λ΅μ§ νμ•… ν•„μ”
- Socket ν†µμ‹  μ „λ¬Έ κµ¬μ΅° νμ•… ν•„μ”
```

**μ”μ²­μ‚¬ν•­**: `BillgatePay-PHP.zip` νμΌμ„ μ••μ¶• ν•΄μ ν• ν›„, λ‹¤μ νμΌλ“¤μ λ‚΄μ©μ„ ν™•μΈν•΄μ£Όμ„Έμ”:
- `PayInput.php` - κ²°μ  μ”μ²­ νμ΄μ§€ μƒν”
- `PayCheckSum.php` - CHECK_SUM μƒμ„± λ΅μ§
- `PayReturn.php` - κ²°μ  μ™„λ£ ν›„ μΉμΈ μ²λ¦¬
- `CancelInput.php`, `CancelReturn.php` - μ·¨μ† μ²λ¦¬

### 2. λΉκ²μ΄νΈ μ—°λ™ κ°€μ΄λ“ λ¬Έμ„ (μ°μ„ μμ„ 1)
```
ν•„μ”ν• νμΌ: [λΉκ²μ΄νΈ] κ°€λ§Ήμ  μ—°λ™ κ°€μ΄λ“_μΌλ°_3.8.2.pdf

ν„μ¬ μƒνƒ: μ΄λ―Έ λ³΄μ ν•κ³  μλ” κ²ƒμΌλ΅ λ³΄μ„
```

### 3. λΉκ²μ΄νΈ ν…μ¤νΈ κ³„μ • μ •λ³΄ (μ°μ„ μμ„ 2)
```
ν•„μ”ν• μ •λ³΄:
- ν…μ¤νΈμ© SERVICE_ID (κ°€μ΄λ“μ— glx_apiλΌκ³  λ‚μ™€μμ)
- ν…μ¤νΈμ© μ•”νΈν™” KEY, IV
- ν…μ¤νΈ κ²°μ μ°½ URL
- ν…μ¤νΈ API μ„λ²„ μ£Όμ† λ° ν¬νΈ

ν„μ¬ μƒνƒ: κ°€μ΄λ“ λ¬Έμ„μ— μΌλ¶€ μμ„ κ²ƒμΌλ΅ μμƒ
```

---

## π“‹ λ‹¨κ³„λ³„ ν•„μ” νμΌ λ©λ΅

### Phase 1: κΈ°λ³Έ κµ¬μ΅° νμ•… (μ΄λ² μ£Ό λ‚΄)
- [x] λΉκ²μ΄νΈ μ—°λ™ κ°€μ΄λ“ PDF
- [ ] **BillgatePay-PHP.zip** β† κ°€μ¥ μ¤‘μ”
- [ ] ν…μ¤νΈ κ³„μ • μ •λ³΄ μ •λ¦¬

### Phase 2: κ°λ° μ‹μ‘ (λ‹¤μ μ£Ό)
- [ ] SEED μ•”νΈν™” λΌμ΄λΈλ¬λ¦¬ μ΅°μ‚¬ κ²°κ³Ό
- [ ] Socket ν†µμ‹  μ¤ν™ μ •λ¦¬
- [ ] μ—λ¬ μ½”λ“ λ§¤ν•‘ ν…μ΄λΈ”

### Phase 3: ν…μ¤νΈ (κ°λ° μ™„λ£ ν›„)
- [ ] λΉκ²μ΄νΈ ν…μ¤νΈ κ³„μ • μ‹¤μ  λ°κΈ‰
- [ ] μƒμ© κ³„μ • λ°κΈ‰ μ‹ μ²­

---

## π” PHP μƒν” μ½”λ“μ—μ„ ν™•μΈν•΄μ•Ό ν•  ν•µμ‹¬ μ‚¬ν•­

### 1. CHECK_SUM μƒμ„± λ΅μ§
```php
// PayCheckSum.php λλ” PayInput.phpμ—μ„ μ°Ύμ•„μ•Ό ν•  λ‚΄μ©
function makeCheckSum($serviceId, $orderId, $amount) {
    // 1. λ°μ΄ν„° μ΅°ν•© λ°©μ‹
    // 2. SEED μ•”νΈν™” νΈμ¶ λ°©λ²•
    // 3. Base64 μΈμ½”λ”© μ—¬λ¶€
}
```

### 2. κ²°μ μ°½ νΈμ¶ νλΌλ―Έν„°
```php
// PayInput.phpμ—μ„ ν™•μΈν•  λ‚΄μ©
$params = array(
    'SERVICE_ID' => '...',
    'SERVICE_CODE' => '...',
    'ORDER_ID' => '...',
    'RETURN_URL' => '...',
    'CHECK_SUM' => '...',
    // ... κΈ°νƒ€ λ¨λ“  νλΌλ―Έν„°
);
```

### 3. Socket ν†µμ‹  μΉμΈ λ΅μ§
```php
// PayReturn.phpμ—μ„ ν™•μΈν•  λ‚΄μ©
function sendApprovalRequest($message) {
    // 1. Socket μ—°κ²° λ°©λ²•
    // 2. μ „μ†΅ λ°μ΄ν„° ν•μ‹
    // 3. μ‘λ‹µ λ°μ΄ν„° νμ‹± λ°©λ²•
}
```

### 4. μ·¨μ† μ²λ¦¬ λ΅μ§
```php
// CancelReturn.phpμ—μ„ ν™•μΈν•  λ‚΄μ©
function sendCancelRequest($transactionId) {
    // 1. μ·¨μ† μ „λ¬Έ μƒμ„± λ°©λ²•
    // 2. Socket ν†µμ‹  λ°©λ²•
    // 3. μ·¨μ† κ²°κ³Ό μ²λ¦¬
}
```

---

## π“¤ μ”μ²­λ“λ¦¬λ” μ‘μ—…

### 1. νμΌ κ³µμ  (μµμ°μ„ )
λ‹¤μ νμΌλ“¤μ„ ν”„λ΅μ νΈμ— μ¶”κ°€ν•κ±°λ‚ λ‚΄μ©μ„ κ³µμ ν•΄μ£Όμ„Έμ”:

1. **BillgatePay-PHP.zip μ••μ¶• ν•΄μ  ν›„ λ¨λ“  νμΌ**
2. **λΉκ²μ΄νΈ κ°€μ΄λ“ PDFμ μ£Όμ” μ„Ήμ…**:
   - νλΌλ―Έν„° λ©λ΅ νμ΄μ§€
   - CHECK_SUM μƒμ„± λ°©λ²• νμ΄μ§€  
   - Socket ν†µμ‹  μ¤ν™ νμ΄μ§€
   - μ—λ¬ μ½”λ“ λ©λ΅ νμ΄μ§€

### 2. μ •λ³΄ μ •λ¦¬
```markdown
## λΉκ²μ΄νΈ ν…μ¤νΈ μ •λ³΄
- SERVICE_ID: ___________
- μ•”νΈν™” KEY: ___________
- μ•”νΈν™” IV: ___________
- ν…μ¤νΈ κ²°μ μ°½ URL: ___________
- ν…μ¤νΈ API μ„λ²„: ___________
- μ‹ μ©μΉ΄λ“ ν¬νΈ: ___________
```

### 3. μ°μ„ μμ„ ν™•μΈ
λ‹¤μ μ¤‘ μ–΄λ–¤ κ²°μ  μλ‹¨μ„ λ¨Όμ € κµ¬ν„ν• μ§€ μ•λ ¤μ£Όμ„Έμ”:
- [ ] μ‹ μ©μΉ΄λ“ κ²°μ  (μΌλ°μ μΌλ΅ μ°μ„ )
- [ ] κ°€μƒκ³„μΆ
- [ ] μΉ΄μΉ΄μ¤νμ΄
- [ ] λ„¤μ΄λ²„νμ΄

---

## π’΅ λ‹¤μ λ‹¨κ³„ μκ³ 

νμΌλ“¤μ„ λ°›μΌλ©΄ λ‹¤μ μμ„λ΅ μ§„ν–‰ν•©λ‹λ‹¤:

1. **PHP μ½”λ“ λ¶„μ„** (1-2μΌ)
   - CHECK_SUM μƒμ„± λ΅μ§ νμ•…
   - Socket ν†µμ‹  λ°©λ²• νμ•…
   - νλΌλ―Έν„° κµ¬μ΅° μ •λ¦¬

2. **SEED μ•”νΈν™” ν•΄κ²°** (3-5μΌ)
   - npm ν¨ν‚¤μ§€ μ΅°μ‚¬
   - ν…μ¤νΈ μ½”λ“ μ‘μ„±
   - κ²€μ¦

3. **κΈ°λ³Έ κ²°μ  ν”λ΅μ° κµ¬ν„** (1μ£Ό)
   - API Route μƒμ„±
   - ν”„λ΅ νΈμ—”λ“ μμ •
   - ν…μ¤νΈ

4. **κ³ λ„ν™” λ° μμ™Έμ²λ¦¬** (1μ£Ό)
   - μ—λ¬ μ²λ¦¬
   - λ΅κΉ…
   - λ³΄μ• κ°•ν™”

---

## β΅ μ§€κΈ λ‹Ήμ¥ ν™•μΈ κ°€λ¥ν• κ²ƒλ“¤

PHP νμΌμ΄ μ—†μ–΄λ„ μ§€κΈ ν™•μΈν•  μ μλ” κ²ƒλ“¤:

### 1. SEED μ•”νΈν™” npm ν¨ν‚¤μ§€ μ΅°μ‚¬
```bash
npm search seed
npm search seed-cbc
npm search korean-seed
```

### 2. ν„μ¬ ν”„λ΅μ νΈ κµ¬μ΅° μ κ²€
- κ²°μ  κ΄€λ ¨ DB ν…μ΄λΈ” ν™•μΈ
- κΈ°μ΅΄ κ²°μ  ν”λ΅μ° λ¶„μ„
- λ³΄μ• μ”κµ¬μ‚¬ν•­ μ κ²€

### 3. ν™κ²½ μ„¤μ • μ¤€λΉ„
- .env.local νμΌ μ¤€λΉ„
- κ°λ°/ν…μ¤νΈ/μƒμ© ν™κ²½ λ¶„λ¦¬ κ³„ν

**μ”μ•½: BillgatePay-PHP.zip νμΌμ λ‚΄μ©μ„ κ°€μ¥ λ¨Όμ € ν™•μΈν•΄μ£Όμ‹λ©΄ κµ¬μ²΄μ μΈ κ°λ° μ‘μ—…μ„ μ‹μ‘ν•  μ μμµλ‹λ‹¤! π€** 